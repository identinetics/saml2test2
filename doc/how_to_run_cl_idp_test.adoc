How to run cl_idp_test
======================

This is a quick guide on how to run cl_idp_test.

Review the configuration directory
----------------------------------

The test tools are given a direcory which holds the configuration.

The configuration directory is made up by these files:

Note: Some file names can differ, as the file names are also configured within
this files.

* configuration.yaml: configuration of the test
* flows.json: configuration of test flows, referenced in configuration.yaml
* interaction.py: configuration of the interaction, referenced in configuration.yaml
* td_sp: directory with test driver (=SP) configuration
* td_sp/configuration.py: configuration module of the test driver
* td_sp/td_sp_conf.yaml: configuration of the test driver services,
referenced in configuration.py
* td_sp/metadata.xml: test driver metadata, referenced in configuration.py
* pki: key material
* pki/mycert.pem: test driver certificate, referenced in configuration.py
* pki/mykey.pem: test driver key, referenced in configutation.py

Create the autogenerated part of the configuration
--------------------------------------------------

The generated part of the config is created by running:

  pyhon saml2test2/testtool/idp_test/make_configuration.py <your_config_dir>

This will generate two additional files in your configuration directory:

* configuration_created.py: Holds the "compiled" version of your configuraiton.
* metadata_created.xml: Is the metadata file, that has to be installed on the
IDP to be tested.

Run the tests
-------------

The test is run by:

  python saml2test2/testtool/idp_test/cl/cl_idp_test.py <your_config_dir>

Fix bugs
-----------

There'll be dragons
